<!DOCTYPE html><html lang="en-US" dir="ltr"><head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <title>9r3i\hunter</title>
  <meta name="keywords" content="9r3i, niner, hunter" />
  <meta name="description" content="the sly eagle doesn't kill at whim" />
  <meta name="robots" content="follow,index" />
  <meta name="author" content="9r3i" />
  <meta name="uri" content="https://github.com/9r3i" />
<script type="text/javascript" id="virtual.js"></script>
<script type="text/javascript">
/* error message -- for development only */
window.addEventListener('error',function(e){
  let errorText=[
    e.message,
    'URL: ' + e.filename,
    'Line: ' + e.lineno + ', Column: ' + e.colno,
    'Stack: ' + (e.error && e.error.stack || '(no stack trace)')
  ].join('\n');
  alert(errorText);
  console.error(errorText);
});//*/
/* anonymous async function */
(async function(vc){
  /* clear the storage -- for development only *
  localStorage.clear();//*/
  /* exit statement -- for splash screen development only *
  if(true){return;}//*/
  /* get configuration */
  let cnf=false,
  cfile='virtual/config/'+vc.match(/([^\/]+)$/)[1],
  craw=localStorage.getItem(cfile);
  if(craw){
    try{
      cnf=JSON.parse(craw);
    }catch(e){
      alert(e);
      return;
    }
  }else{
    cnf=await fetch(vc).then(r=>r.json())
      .catch(e=>prompt(e,vc));
    if(!cnf||typeof cnf!=='object'
      ||!cnf.hasOwnProperty('virtual')){
      alert('Error: Invalid config file.');
      return;
    }
    /* save the configuration */
    localStorage.setItem(cfile,JSON.stringify(cnf));
  }
  /* standard virtual initialization -- do not change */
  let vname='virtual.js',
  vtag=document.getElementById(vname),
  vscript=localStorage.getItem(vname);
  if(!vscript){
    vscript=await fetch(cnf.virtual.file).then(r=>r.text());
    if(!vscript.match(/function\svirtual/)){
      alert('Error: Failed to load virtual.js');
      return;
    }localStorage.setItem(vname,vscript);
  }
  vtag.textContent=vscript;
  /* initialize virtual.js with registered files */
  const app=new virtual(cnf.files);
  /* load gaino file */
  await app.load('gaino.js');
  /* start the gaino app */
  new gaino(app,cnf);
  /* doing silent update for virtual -- optional */
  vscript=await fetch(cnf.virtual.file).then(r=>r.text());
  if(vscript.match(/function\svirtual/)){
    localStorage.setItem(vname,vscript);
    console.log("virtual has been updated.");
  }else{
    console.error("Error: Failed to update virtual.js");
  }
  /* silent update for config file */
  cnf=await fetch(vc).then(r=>r.json());
  if(cnf&&typeof cnf==='object'&&cnf.hasOwnProperty('virtual')){
    /* save the configuration */
    localStorage.setItem(cfile,JSON.stringify(cnf));
    console.log("config file has been updated.");
  }else{
    console.error("Error: Failed to update config file");
  }
})('hunter.json');
/* config file or url */
</script>
<style type="text/css">
body{
  margin:0px;
  padding:0px;
}
.index-splash{
  display:flex;
  align-items:center;
  justify-content:center;
  height:100vh;
  width:100vw;
  margin:0px;
  padding:0px;
  font-family:system-ui;
  background-color:#fff;
  background:linear-gradient(#fff 0%,#bdf 80%,#59d 100%);
}
.index-splash progress{
  font-size:24px;
}
.index-splash span{
  position:absolute;
  margin:-35px 0px 0px;
  font-size:13px;
  color:#777;
  animation:fade 2.3s infinite 0s;
}
@keyframes fade{
  0%{opacity:1;}
  50%{opacity:0.3;}
  100%{opacity:1;}
}
</style>
</head><body>
<div class="index-splash">
<span>Connecting...</span>
<progress max="100"></progress>
</div>
</body></html>
